# SQL ревью кода согласно стандартам, описанным в приложенном файле "Правила форматирования SQL"
Тестовые задания для проверки внимательности к деталям и умения работы с документацией. На выполнение данного задания дается 2 дня.
1) Выполнить тест: forms.yandex.ru/cloud/649c284d068ff007f96db2cd/
  - При выполнении теста следует руководствоваться стандартами из приложенных файлов:
    - "Наименование update-скриптов": https://ics-it.gram.ax/mdti/standards/WorkWithCode/10_NamingStandardUpdScripts
    - "Наименование объектов": https://ics-it.gram.ax/mdti/standards/WorkWithCode/20_NamingStandartObjects
    - "Наименование переменных": https://ics-it.gram.ax/mdti/standards/WorkWithCode/30_NamingStandartVariables
    -  "Заполнение поля "Код" для системных записей": https://ics-it.gram.ax/mdti/standards/WorkWithCode/50_CodeField
    - "Правила форматирования SQL": https://ics-it.gram.ax/mdti/standards/WorkWithCode/60_SQLFormatiing
2) Выполнить ревью кода согласно стандартам, описанным в приложенном файле "Правила форматирования SQL"
  - Создать пустой репозиторий на GitLab/GitHub
  - В репозитории создать новую ветку и разместить в ней файл с заданием
  - Сделать merge request из новой ветки в main ветку
  - Найти хотя-бы 17 из 23 различных нарушений кодстайла (прокомментировать проблемные строки) в созданном merge/pull request-е
  Пример оформления задания:
  github.com/VladimirSimanovskiy/test-review/pull/2

Ждём от Вас ответное письмо на всех адресатов с уведомлением о выполнении теста и ссылкой на merge request.

Если у Вас есть какие-либо вопросы по нашему заданию, то можете их задать в ответном письме. Мы вам обязательно ответим.


На собеседовании мы будем проверять, что соискатель знает ответы на следующие вопросы:

Для чего используется Git? 
Чаще всего Git используют для отслеживания и ведения истории изменения файлов, в проекте. Также, для упрощения работы различных специалистов над проектом.

При каких условиях возникает конфликт между ветками?

при мердже веток если в этих ветках одна и та же строка кода была изменена по-разному. Тогда получается, что Git не может сам решить какое из изменений нужно применить и он предлагает вручную решить эту ситуацию

Какие бывают программируемые объекты в базе данных?

хранимые процедуры, функции, триггеры, курсоры и представления (20)

Как создать новую таблицу?

CREATE TEMPORARY  TABLE IF NOT EXISTS table_name
( 
column_name_1 data_type_1,
column_name_2 data_type_2, 
) ;

Какие виды соединений (join) таблиц бывают? 

Внутреннее соединение INNER JOIN - чтобы объединять данные из нескольких таблиц. Когда результат должен содержать только данные двух таблиц с общим ключом, применяют INNER JOIN или просто JOIN.
Внешние соединения OUTER JOIN - Если нужен полный список записей одной из таблиц, объединенных с данными из другой, используют операторы LEFT и RIGHT JOIN.
LEFT OUTER JOIN / LEFT JOIN
RIGHT OUTER JOIN / RIGHT JOIN
FULL OUTER JOIN / FULL JOIN - Если результат должен содержать полный список записей обеих таблиц, где некоторые записи объединены, применяют оператор FULL JOIN.
Перекрестное соединение CROSS JOIN - Если нужно декартово произведение двух таблиц, используют оператор CROSS JOIN
Соединение SELF JOIN - Хотите соединить данные из одной и той же таблицы между собой — нужен SELF JOIN.

В чём их различие?


Как добавить новые столбцы в таблицу?

Что такое первичный ключ? 
Первичный ключ — особенное поле в SQL-таблице, которое позволяет однозначно идентифицировать каждую запись в ней. Как правило, эти поля используются для хранения уникальных идентификаторов объектов, которые перечислены в таблице, например, это может быть ID клиента или товара.

Что такое внешний ключ? 
Внешний ключ нужен для того, чтобы связать две разные SQL-таблицы между собой. Внешний ключ таблицы должен соответствовать значению первичного ключа таблицы, с которой он связан. Это помогает сохранять согласованность базы данных путем обеспечения так называемой «ссылочной целостности»

В чём разница и зачем они нужны?

первичный ключ используется для уникальной идентификации записей в таблице, а внешний ключ используется для соединения двух таблиц вместе.

Что такое функции?

Функция - это предопределенная формула, которая принимает один или несколько аргументов в качестве входных данных, затем обрабатывает аргументы и возвращает выходные данные.

Функции SQL — это хранимые процедуры, которые выполняют определенную операцию и возвращают результат. Функции могут использоваться для упрощения запросов данных, а также включаются в более крупные процедуры. Например, функция может принимать параметры в качестве входных данных, выполнить операцию, а затем вернуть результат в виде значения.

 Какие бывают виды функций?
Пользовательские:
Cкалярные - функции: это функции, которые возвращают одно значение заданного типа данных;
Табличные - это функции, которые возвращают табличные данные, т.е. данные типа TABLE.
Встроенные функции T-SQL

агрегатные функции - это функции, которые выполняют определенное вычисление на наборе значений и возвращают одиночное значение.
COUNT; SUM; AVERAGE; MAX/MIN
Строковые функции – это функции, которые работают со строками, иными словами, с текстовыми значениями в столбце, т.е. выполняют различные операции над текстом.
Математические функции – это функции, которые позволяют производить различные математические расчеты, как простые, так и сложные.
Функции для работы с датой и временем
Функции преобразования – это функции, которые позволяют преобразовать значение одного типа данных в другой.
Логические функции и тд.


В чём их отличие?
встроенные функции нельзя изменить и нельзя удалить в отличии от пользовательских


Что такое процедуры или хранимая процедура? - это многоразовая единица, инкапсулирующая конкретную бизнес-логику приложения. Другими словами, готовый код.

В чем их отличие от функций?
Хранимая процедура не имеет возвращаемого типа, но имеет выходные аргументы
Использование DML-запросов (insert, update, delete) возможно в хранимой процедуре.
Хранимая процедура имеет и входные, и выходные аргументы
Использование или же управление транзакциями возможно в хранимой процедуре
Вызов хранимой процедуры из SELECT запросов невозможно



Что такое триггеры? 
Триггер – это специальный тип хранимой процедуры, которая запускается автоматически системой SQL Server при модифицировании какой-либо таблицы одним из трех операторов: UPDATE, INSERT или delete. Триггеры, как другие хранимые процедуры, могут содержать простые или сложные операторы T-SQL. В отличие от других типов хранимых процедур триггеры запускаются автоматически при указанных модификациях данных; их нельзя запустить вручную по имени.
Триггер (англ. trigger) — это хранимая откомпилированная SQL-процедура, которая не вызывается непосредственно, а исполняется при наступлении определенного события внутри базы данных (вставки, удаления, обновления записей).

В чем их отличие от процедур? 

Основное различие между триггером и процедурой заключается в том, что триггер - это оператор, который вызывается автоматически при возникновении события. С другой стороны, процедура вызывается всякий раз, когда это требуется.
Можно определить процедуру внутри триггера. Но триггер никогда не определяется внутри процедуры, так как триггер должен вызываться автоматически при возникновении какого-либо события.
Мы можем передавать параметры в процедуры, но мы не можем передавать параметры для запуска, так как они не вызываются нами.

Какие виды триггеров бывают и при каких событиях они запускаются?
Существует пять видов триггеров PL/SQL:

Триггеры DML — запускаются в ответ на вставку, обновление и удаление строки таблицы базы данных.
Триггеры DDL — запускаются в ответ на выполнение команд DDL.
Триггеры событий базы данных — используются при запуске и остановке базы данных, при подключении и отключении сервера, а также при возникновении ошибок Oracle.
Триггеры INSTEAD OF — замещающие триггеры, которые запускаются непосредственно перед операциями вставки, обновления, удаления.
Приостановленные команды — с данным событием можно связать триггер, который автоматически уведомляет пользователя о проблеме или даже самостоятельно устраняет ее.



Направляю материалы, которые могут помочь при выполнении тестового задания: 

SQL:
1) Книга: https://obuchalka.org/20200329119682/microsoft-sql-server-2012-osnovi-t-sql-ben-gan-i-raitman-m-a-2015.html. Для экономии времени на первых порах можно сфокусироваться на следующих главах:

Глава 1. Общие сведения о создании запросов и программировании на языке T-SQL
Глава 2. Запросы к одиночным таблицам
Глава 3. Соединения
Глава 8. Изменение данных
Глава 10. Программируемые объекты 
2) Для закрепления навыков написания select-запросов решим задачи на сайте: https://www.sql-ex.ru/.
